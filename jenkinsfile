pipeline {
agent any
 		stages {
        	stage('Clone sources') {
              steps {
                     git branch: 'main',
                     credentialsId: 'Github-username-password',
                     url: 'https://github.com/rvk222/spring-boot-swagger.git'
                  }
                }
        	stage('SonarQube Scanner'){
            	steps {
                    script{
                       withSonarQubeEnv('SonarQube'){
                            //def mavenImage = docker.image('openjdk:11')
                            //mavenImage.inside() 
                            //{
                               bat "mvn clean verify sonar:sonar -Dsonar.projectKey=vk -Dsonar.host.url=http://localhost:9000 -Dsonar.login=7ab007f1a972d9cc11fabee017a95645acca50ff"
                          // bat "mvn clean verify sonar:sonar -Dsonar.projectKey=spring-boot-swagger -Dsonar.host.url=http://localhost:9000 -Dsonar.login=34d7a895a4e0200f905fb1171d9f85c97fdad0cc"
 }
                       }
                   // }
                    }
                }
                }
            }


